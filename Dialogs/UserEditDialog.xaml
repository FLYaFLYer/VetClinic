<Window x:Class="VetClinic.Dialogs.UserEditDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Редактирование пользователя" 
        Height="650" 
        Width="520"
        WindowStartupLocation="CenterScreen"
        Background="White"
        ResizeMode="NoResize">

    <Grid>
        <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="20">
            <StackPanel>
                <!-- Заголовок -->
                <TextBlock Text="Редактирование пользователя" 
                           FontSize="18" 
                           FontWeight="Bold" 
                           Margin="0,0,0,20"
                           Foreground="#FF388E3C"/>

                <!-- Логин -->
                <TextBlock Text="Логин:" 
                           FontWeight="SemiBold" 
                           Margin="0,10,0,5"/>
                <TextBox x:Name="txtLogin" 
                         Text="{Binding Login, ValidatesOnDataErrors=True, UpdateSourceTrigger=PropertyChanged}" 
                         Style="{StaticResource BaseTextBoxStyle}"/>

                <!-- Пароль -->
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Text="Пароль:" 
                               FontWeight="SemiBold" 
                               Margin="0,10,0,5"
                               Grid.Column="0"/>

                    <StackPanel Grid.Column="1" 
                                Orientation="Horizontal" 
                                HorizontalAlignment="Right"
                                Margin="0,5,0,0">
                        <Button x:Name="btnGeneratePassword" 
                                Content="Сгенерировать" 
                                Margin="5,0,0,0" 
                                Padding="8,4" 
                                Height="28"
                                Style="{StaticResource NavButtonStyle}"
                                Click="BtnGeneratePassword_Click"/>
                        <Button x:Name="btnCopyPassword" 
                                Content="Копировать" 
                                Margin="5,0,0,0" 
                                Padding="8,4" 
                                Height="28"
                                Style="{StaticResource NavButtonStyle}"
                                Click="BtnCopyPassword_Click"/>
                    </StackPanel>
                </Grid>

                <Grid Margin="0,0,0,10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- Поле пароля -->
                    <PasswordBox x:Name="pwdPassword" 
                                 Grid.Column="0"
                                 PasswordChanged="PwdPassword_PasswordChanged"
                                 Height="34"
                                 Padding="8,4"
                                 Margin="0,0,5,0"/>

                    <!-- Текстовое поле для отображения пароля -->
                    <TextBox x:Name="txtPasswordVisible" 
                             Grid.Column="0"
                             Visibility="Collapsed"
                             Height="34" 
                             Padding="8,4"
                             Margin="0,0,5,0"/>

                    <CheckBox x:Name="chkShowPassword" 
                              Grid.Column="1" 
                              Content="Показать"
                              Margin="0,0,0,0" 
                              VerticalAlignment="Center"
                              Checked="ChkShowPassword_Checked"
                              Unchecked="ChkShowPassword_Unchecked"/>
                </Grid>

                <!-- Фамилия -->
                <TextBlock Text="Фамилия:" 
                           FontWeight="SemiBold" 
                           Margin="0,10,0,5"/>
                <TextBox x:Name="txtLastName" 
                         Text="{Binding LastName, ValidatesOnDataErrors=True, UpdateSourceTrigger=PropertyChanged}" 
                         Style="{StaticResource BaseTextBoxStyle}"/>

                <!-- Имя -->
                <TextBlock Text="Имя:" 
                           FontWeight="SemiBold" 
                           Margin="0,10,0,5"/>
                <TextBox x:Name="txtFirstName" 
                         Text="{Binding FirstName, ValidatesOnDataErrors=True, UpdateSourceTrigger=PropertyChanged}" 
                         Style="{StaticResource BaseTextBoxStyle}"/>

                <!-- Отчество -->
                <TextBlock Text="Отчество:" 
                           FontWeight="SemiBold" 
                           Margin="0,10,0,5"/>
                <TextBox x:Name="txtMiddleName" 
                         Text="{Binding MiddleName}" 
                         Style="{StaticResource BaseTextBoxStyle}"/>

                <!-- Телефон -->
                <TextBlock Text="Телефон (формат: +7 (XXX) XXX-XX-XX):" 
                           FontWeight="SemiBold" 
                           Margin="0,10,0,5"/>
                <TextBox x:Name="txtPhoneNumber" 
                         Text="{Binding PhoneNumber, ValidatesOnDataErrors=True, UpdateSourceTrigger=PropertyChanged}" 
                         Style="{StaticResource BaseTextBoxStyle}"
                         TextChanged="TxtPhoneNumber_TextChanged"/>

                <!-- Дата рождения -->
                <TextBlock Text="Дата рождения:" 
                           FontWeight="SemiBold" 
                           Margin="0,10,0,5"/>
                <DatePicker x:Name="dpDateOfBirth" 
                            SelectedDate="{Binding DateOfBirth, ValidatesOnDataErrors=True}" 
                            Style="{StaticResource BaseDatePickerStyle}"/>

                <!-- Дата приема -->
                <TextBlock Text="Дата приема:" 
                           FontWeight="SemiBold" 
                           Margin="0,10,0,5"/>
                <DatePicker x:Name="dpDateOfHire" 
                            SelectedDate="{Binding DateOfHire, ValidatesOnDataErrors=True}" 
                            Style="{StaticResource BaseDatePickerStyle}"/>

                <!-- Роль -->
                <TextBlock Text="Роль:" 
                           FontWeight="SemiBold" 
                           Margin="0,10,0,5"/>
                <ComboBox x:Name="cmbRoles" 
                          DisplayMemberPath="Name" 
                          SelectedValuePath="Id" 
                          SelectedValue="{Binding RoleId, ValidatesOnDataErrors=True}" 
                          Style="{StaticResource BaseComboBoxStyle}"/>

                <!-- Кнопки -->
                <Border BorderBrush="#FFEEEEEE" BorderThickness="0,1,0,0" Margin="0,30,0,0">
                    <StackPanel Orientation="Horizontal" 
                                HorizontalAlignment="Right" 
                                Margin="0,20,0,0">
                        <Button Content="Отмена" 
                                Style="{StaticResource CancelButtonStyle}"
                                Click="BtnCancel_Click"/>
                        <Button Content="Сохранить" 
                                Style="{StaticResource DialogButtonStyle}"
                                Margin="10,0,0,0"
                                Click="BtnSave_Click"/>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Window>